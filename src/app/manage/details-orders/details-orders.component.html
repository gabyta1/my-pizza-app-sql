<div class="container" *ngIf="manageService.getTable()">
    <h2>Order Details</h2>


    <div class="row">
      <div class="col-sm-3">
      <div class="form-group has-feedback">
        <input type="number"
        id="search"
        class="form-control"
        placeholder="Search by Number Order"
        [(ngModel)]="search"
         name="search"
         required
         pattern="^[1-9]+[0-9]*$"
         #searchNumOrder="ngModel"
        >
        <i class="glyphicon glyphicon-search form-control-feedback"></i>
    </div>
      </div>

             <!-- <div class="col-sm-3">
            <div class="input-group">
              <input  type="number"
                      id="search"
                      class="form-control"
                      placeholder="Search by Number Order"
                      [(ngModel)]="search"
                       name="search"
                       required
                       pattern="^[1-9]+[0-9]*$"
                       #searchNumOrder="ngModel">
              <div class="input-group-btn">
                <button class="btn btn-default" type="submit">
                  <i class="glyphicon glyphicon-search" (click)="searchOrder()"></i>
                </button>
              </div>
            </div>
    </div> -->








      <!-- <div class="col-sm-3">
        <input
        type="number"
        id="search"
        class="form-control search"
        [(ngModel)]="search"
        name="search"
        required
        pattern="^[1-9]+[0-9]*$"
        #searchNumOrder="ngModel"
        placeholder="Search by Number Order"
      >
      </div>
      <div class="col-sm-1">
        <span class="glyphicon glyphicon-search" (click)="searchOrder()"></span>
      </div> -->
      <!-- <div class="col-sm-2">
        <select id="inputCategory" class="form-control selectFilter" [(ngModel)]="filter"  name="category"  >
          <option disabled selected="selected">Filter Status</option>
          <option  *ngFor="let stat of status">{{stat}}</option>
        </select>
      </div>
      <div class="col-sm-1">
          <span class="glyphicon glyphicon-search" (click)="filterStatus()"></span>
        </div>
    </div> -->

    <div class="col-sm-12">
      <span class="glyphicon glyphicon-remove" style="font-size: 20px; margin-left:90%; cursor: pointer;"  (click)="backDetails()" *ngIf="backAllOrder"></span>
      </div>

      <div class="row">
        <div class="col-sm-2" style="right: 3%; top: 50px;">
          <select id="inputCategory" class="form-control selectFilter" [(ngModel)]="filter"  name="category" style="margin-bottom: 15px;">
            <option selected="selected">Filter Status</option>
            <option  *ngFor="let stat of status">{{stat}}</option>
          </select>

          <mat-form-field >
            <input matInput [matDatepicker]="picker" placeholder="Start Date" [(ngModel)]="fromDate"  >
            <mat-datepicker-toggle matSuffix [for]="picker" ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <mat-form-field >
            <input matInput [matDatepicker]="pickers" placeholder="End Date" [min]="fromDate" [(ngModel)]="toDate">
            <mat-datepicker-toggle matSuffix [for]="pickers" ></mat-datepicker-toggle>
            <mat-datepicker #pickers></mat-datepicker>
          </mat-form-field>

          <select id="inputCategory" class="form-control selectFilter" [(ngModel)]="filterType"  name="type" style="margin-bottom: 15px;">
            <option  selected="selected">Filter Type</option>
            <option>Delivery</option>
            <option>Selfpick</option>
          </select>

          <button mat-raised-button color="primary" (click)="filterData()">Filter</button>



        </div>



     <div class="col-sm-10">
    <table class="table table-hover" style="right:80px">
      <thead>
        <tr>
          <th>Number Order</th>
          <th>Date</th>
          <th>Delivery time</th>
          <th>Type</th>
          <th>Branch</th>
          <th>Price</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of orders | filters:search:'num_order'"> <!-- use in pipe to filter number order -->
          <td>{{order.num_order}}</td>
          <td>{{order.o_date | date:'d.M.y'}} </td>
          <td>{{order.pick_time}}</td>
          <td>{{order.o_type | titlecase }}</td>
          <td>{{order.city}}</td>
          <td>{{order.price}}</td>
          <td ><select id="inputCategory" class="form-control" [(ngModel)]="order.o_status" name="category" (change)="updateStatus(order.o_status, order.num_order)" >
              <option  selected="selected" *ngFor="let stat of status">{{stat}}</option>
            </select>
          </td>
          <td class="glyphicon glyphicon-eye-open" (click)="detailOrder(order.num_order)" style="cursor: pointer; font-size: 15px;"></td>
        </tr>
      </tbody>
    </table>
  </div>
  </div>
</div>
</div>

  <router-outlet></router-outlet>
